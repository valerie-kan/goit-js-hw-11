{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/js/main.js"],"sourcesContent":["import { loader } from './main.js';\n\nconst BASE_URL = 'https://pixabay.com/api/';\n\nexport function fetchPhotos(value) {\n    loader.classList.remove('is-hidden');\n    const URLParams = new URLSearchParams({\n    key: '45515322-6acc0c0fe7102921e2f085c71',\n    q: value,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true\n    })\n    \n    return fetch(`${BASE_URL}?${URLParams}`)\n        .then(response => {\n            if (!response.ok) {\n                throw new Error(response.status);\n            }\n\n            return response.json();\n        })\n}\n\n","\nexport function renderGalleryItem(imgDetails) {\n    return `\n    <li class='gallery-item'>\n        <a class='gallery-link' href='${imgDetails.largeImageURL}'>\n        <img class='gallery-img' src='${imgDetails.webformatURL}' alt='${imgDetails.tags}'>\n        <div class='img-info'>\n        </a>\n        <p><span>Likes</span> ${imgDetails.likes}</p>\n        <p><span>Views</span> ${imgDetails.views}</p>\n        <p><span>Comments</span> ${imgDetails.comments}</p>\n        <p><span>Downloads</span> ${imgDetails.downloads}</p>\n        </div>\n    </li>`\n}","import iziToast from \"izitoast\";\nimport SimpleLightbox from \"simplelightbox\";\n\nimport { fetchPhotos } from './pixabay-api';\nimport { renderGalleryItem } from './render-functions.js';\n\nconst formEl = document.querySelector('.form');\nconst inputEl = document.querySelector('.form-input');\nconst gallery = document.querySelector('.gallery-list');\nexport const loader = document.querySelector('.loader');\n\n\nformEl.addEventListener('submit', submitForm);\n\nconst lightbox = new SimpleLightbox('.gallery-item a', {captionsData: 'alt'});\n\nfunction submitForm(event) {\n    event.preventDefault();\n    gallery.innerHTML = '';\n    const searchedInfo = inputEl.value;\n    if (searchedInfo === '') {\n        return\n    }\n\n    fetchPhotos(searchedInfo)\n        .then(data => {\n            if (data.hits.length === 0) {\n                iziToast.error({\n                    message: 'Sorry, there are no images matching your search query. Please try again!',\n                    position: 'topRight',\n                    messageColor: 'white',\n                    messageSize: '16',\n                    color: 'red',\n                    iconColor: 'white'\n                });\n            };\n\n            const createGallery = data.hits.map(imgDetail => renderGalleryItem(imgDetail)).join('');\n        \n            loader.classList.add('is-hidden');\n            gallery.insertAdjacentHTML('afterbegin', createGallery);\n            lightbox.refresh();\n            formEl.reset();\n        })\n        .catch (error => console.log(error));\n}\n\n\n"],"names":["BASE_URL","fetchPhotos","value","loader","URLParams","response","renderGalleryItem","imgDetails","formEl","inputEl","gallery","submitForm","lightbox","SimpleLightbox","event","searchedInfo","data","iziToast","createGallery","imgDetail","error"],"mappings":"6vBAEA,MAAMA,EAAW,2BAEV,SAASC,EAAYC,EAAO,CAC/BC,EAAO,UAAU,OAAO,WAAW,EACnC,MAAMC,EAAY,IAAI,gBAAgB,CACtC,IAAK,qCACL,EAAGF,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,CAAK,EAED,OAAO,MAAM,GAAGF,CAAQ,IAAII,CAAS,EAAE,EAClC,KAAKC,GAAY,CACd,GAAI,CAACA,EAAS,GACV,MAAM,IAAI,MAAMA,EAAS,MAAM,EAGnC,OAAOA,EAAS,MAC5B,CAAS,CACT,CCrBO,SAASC,EAAkBC,EAAY,CAC1C,MAAO;AAAA;AAAA,wCAE6BA,EAAW,aAAa;AAAA,wCACxBA,EAAW,YAAY,UAAUA,EAAW,IAAI;AAAA;AAAA;AAAA,gCAGxDA,EAAW,KAAK;AAAA,gCAChBA,EAAW,KAAK;AAAA,mCACbA,EAAW,QAAQ;AAAA,oCAClBA,EAAW,SAAS;AAAA;AAAA,UAGxD,CCRA,MAAMC,EAAS,SAAS,cAAc,OAAO,EACvCC,EAAU,SAAS,cAAc,aAAa,EAC9CC,EAAU,SAAS,cAAc,eAAe,EACzCP,EAAS,SAAS,cAAc,SAAS,EAGtDK,EAAO,iBAAiB,SAAUG,CAAU,EAE5C,MAAMC,EAAW,IAAIC,EAAe,kBAAmB,CAAC,aAAc,KAAK,CAAC,EAE5E,SAASF,EAAWG,EAAO,CACvBA,EAAM,eAAc,EACpBJ,EAAQ,UAAY,GACpB,MAAMK,EAAeN,EAAQ,MACzBM,IAAiB,IAIrBd,EAAYc,CAAY,EACnB,KAAKC,GAAQ,CACNA,EAAK,KAAK,SAAW,GACrBC,EAAS,MAAM,CACX,QAAS,2EACT,SAAU,WACV,aAAc,QACd,YAAa,KACb,MAAO,MACP,UAAW,OAC/B,CAAiB,EAGL,MAAMC,EAAgBF,EAAK,KAAK,IAAIG,GAAab,EAAkBa,CAAS,CAAC,EAAE,KAAK,EAAE,EAEtFhB,EAAO,UAAU,IAAI,WAAW,EAChCO,EAAQ,mBAAmB,aAAcQ,CAAa,EACtDN,EAAS,QAAO,EAChBJ,EAAO,MAAK,CACxB,CAAS,EACA,MAAOY,GAAS,QAAQ,IAAIA,CAAK,CAAC,CAC3C"}